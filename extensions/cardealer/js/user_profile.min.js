var app_cardealer_app_user_profile=null;jQuery(document).ready(function(){app_cardealer_app_user_profile=new THEMEMAKERS_APP_CARDEALER_USER_PROFILE,app_cardealer_app_user_profile.init()});var THEMEMAKERS_APP_CARDEALER_USER_PROFILE=function(){var a={init:function(){var b=jQuery("#map_latitude").val(),c=jQuery("#map_longitude").val(),d=jQuery("#map_zoom").val();(b||c||d)&&a.gmt_init_map(b,c,"google_map",parseInt(d,10),"ROADMAP","",!0,!1,!0),jQuery("#update_user_profile").on("click",function(){jQuery("#update_user_errors").hide(333),jQuery("#update_user_success").hide(333);var a={action:"app_cardealer_update_user_profile",values:jQuery("#user_data").serialize()};return jQuery.post(ajaxurl,a,function(a){jQuery('[name="password1"]').val(""),jQuery('[name="password2"]').val(""),"1"==a?jQuery("#update_user_success").show(333):jQuery("#update_user_errors").html(a).show(333)}),!1}),jQuery("#set_location").click(function(){var b=jQuery(jQuery(".google_map").eq(0)).attr("id"),c=new google.maps.Geocoder,d=jQuery("#location_address").val();return c.geocode({address:d},function(c,d){var e=null,f=null;return d!=google.maps.GeocoderStatus.OK?(alert("Geocode was not successful for the following reason: "+d),!1):(e=c[0].geometry.location.lat(),f=c[0].geometry.location.lng(),jQuery("#"+b).html(""),jQuery("#map_latitude").val(e),jQuery("#map_longitude").val(f),void a.gmt_init_map(e,f,b,parseInt(jQuery("#map_zoom").val(),10),"ROADMAP","",!0,!1,!0))}),!1}),jQuery("#map_zoom").on("change",function(){a.gmt_init_map(jQuery("#map_latitude").val(),jQuery("#map_longitude").val(),"google_map",parseInt(jQuery(this).val(),10),"ROADMAP","",!0,!1,!0)}),jQuery("#map_latitude").on("change",function(){a.gmt_init_map(jQuery(this).val(),jQuery("#map_longitude").val(),"google_map",parseInt(jQuery("#map_zoom").val(),10),"ROADMAP","",!0,!1,!0)}),jQuery("#map_longitude").on("change",function(){a.gmt_init_map(jQuery("#map_latitude").val(),jQuery(this).val(),"google_map",parseInt(jQuery("#map_zoom").val(),10),"ROADMAP","",!0,!1,!0)})},gmt_init_map:function(a,b,c,d,e,f,g,h,i){var j=new google.maps.LatLng(a,b),k=new google.maps.LatLng(a,b);switch(e){case"SATELLITE":e=google.maps.MapTypeId.SATELLITE;break;case"HYBRID":e=google.maps.MapTypeId.HYBRID;break;case"TERRAIN":e=google.maps.MapTypeId.TERRAIN;break;default:e=google.maps.MapTypeId.ROADMAP}var l;if(l=new google.maps.Map(document.getElementById(c),{zoom:d,center:j,mapTypeId:e,scrollwheel:!1}),g)var m=new google.maps.Marker({position:k,draggable:!0,map:l});google.maps.event.addListener(m,"dragend",function(){jQuery("#map_latitude").val(m.position.lat()),jQuery("#map_longitude").val(m.position.lng())}),google.maps.event.addListener(l,"zoom_changed",function(){jQuery("#map_zoom").val(l.zoom)})}};return a};